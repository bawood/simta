#
# simta.conf template
#

# Domain used as the mail suffix for locally generated mail.
#
#MASQUERADE			DOMAIN

# Designate a host to punt undeliverable mail to.
#
#PUNT				HOSTNAME

# Do not attempt an initial deliver of incoming SMTP mail, just queue it.
# This option might be used on a punt host, to allow better throughput to
# the punt queue when it can be assumed that the mail has recently failed
# a deliver attempt.
#
#QUEUE_INCOMING_SMTP_MAIL

# Designate a directory for simta's mail queues.
#
#BASE_DIR			/var/spool/simta

# The amount of time the SMTP server waits for client command.
#
#RECEIVE_WAIT			600

# The amount of time the SMTP server waits for a SMTP DATA line
#
#DATA_LINE_WAIT			300

# The amount of time the SMTP server waits for the entire data transaction.
#
#DATA_SESSION_WAIT		3600

# Path to the default local mailer, and arguments.  This overrides configure.
#
# Variable replacement in the arguments is as follows:
#
# $S sender
# $R recipient
# $D recipient's domain
#
#DEFAULT_LOCAL_MAILER [ ARGS ]

# Number of lines of the original message that get sent back in the event of
# a bounce.  0 means unlimited.
#
#BOUNCE_LINES			100

# How many seconds we try to deliver a message before we bounce it.  Default
# is a standard three days.
#
#BOUNCE_SECONDS			259200

# The maximum number of incoming SMTP connections allowed.
#
#MAX_RECEIVE_CONNECTIONS	100

# The maximum number of headers allowed on any incoming SMTP message.
#
#MAX_RECEIVED_HEADERS		100

# The maximum number of local queue runners the master queue scheduler is
# allowed to have at any given time.
#
#MAX_Q_RUNNERS_LOCAL		25

# The maximum number of slow queue runners the master queue scheduler is
# allowed to have at any given time.
#
#MAX_Q_RUNNERS_SLOW		250

# The maximum number of slow queue runners the master queue scheduler is
# allowed to fork in one instant before triggering an anti-throttling
# mechanism that sleeps the scheduler for one second.  0 means no limit.
#
#MAX_Q_RUNNERS_LAUNCH		10

# The minimum amount of time the master queue runner will work between disk
# reads, in seconds.
#
#MIN_WORK_TIME			300

# Call a content filter to examine the DATA portion of an incoming SMTP
# message.  The content of the message is given on stdin, and the following
# environment variables are defined:
# SIMTA_DFILE - path to message's Dfile
# SIMTA_TFILE - path to message's tfile
# SIMTA_REMOTE_IP - IP address of remote host
# SIMTA_REMOTE_HOSTNAME - given hostname of remote host
# SIMTA_REVERSE_LOOKUP - DNS reverse lookup of remote host
# SIMTA_SMTP_MAIL_FROM - message's From
# SIMTA_SMTP_HELO - helo hostname from remote host
# SIMTA_MID - The incoming Message's MID as defined by it's header
# SIMTA_CHECKSUM - a message's checksum, if CHECKSUM_ALGORITHM is defined
# SIMTA_CHECKSUM_SIZE - number of bytes of data read for a message's checksum
#
# The content filter can return one of four integer values:
# 0 - MESSAGE_ACCEPT
# 1 - MESSAGE_ACCEPT_AND_DELETE
# 2 - MESSAGE_REJECT
# 3 - MESSAGE_TEMPFAIL
# 4 - MESSAGE_TEMPFAIL_TARPIT
#
#CONTENT_FILTER			PATH

# Optional URL for the SMTP data banner for failed or tempfailed DATA requests
#
#SMTP_DATA_URL			URL

# Define a checksum algorithm for the content filter.
# 
#CHECKSUM_ALGORITHM		ALGORITHM

# If this flag is set, simta will allow connections with invalid reverse DNS.
#
#IGNORE_REVERSE

# An optional URL to give incoming connections that fails DNS reverse lookup.
#
#REVERSE_URL			URL

# If this flag is set, allow incoming connections despite DNS errors during
# reverse lookup.
#
#IGNORE_CONNECT_IN_DNS_ERRORS

# Enable RBL.  Domain is the RBL server, URL is a URL to give as a SMTP
# error message to blocked connections.  If an address is found in a BLOCK
# list, it is blocked, if it is found in an ACCEPT list, it will be accepted
# and no further lookups will take place.  Order in the config file gives
# precedence to the lookups.
#
#RBL_BLOCK			DOMAIN			URL
#RBL_ACCEPT			DOMAIN

# Enable verbose RBL logging.
#
#RBL_VERBOSE_LOGGING

# Enable user RBLs.  Domain is the RBL server, URL is a URL to give as a SMTP
# error message to blocked connections.  If an address is found in a BLOCK
# list, it is blocked, if it is found in an ACCEPT list, it will be accepted
# and no further lookups will take place.  Order in the config file gives
# precedence to the lookups.  Non-USER RBL actions take precedence over
# USER lists.
#
#USER_RBL_BLOCK			DOMAIN			URL
#USER_RBL_ACCEPT		DOMAIN

# Allow -f option with simsendmail.
#
#SIMSEND_STRICT_FROM_OFF

# Enable TLS
#
#TLS_ON

# Default alias DB file.  If no filename is given, default DB is disabled.
#
#ALIAS_DB			/etc/alias.db

# File for ca.
#
#CA_FILE			cert/ca.pem

# File for cert.
#
#CERT_FILE			cert/cert.pem

# File for private key.
#
#PRIVATE_KEY_FILE		cert/cert.pem

# Enable submission service defaults to port 587 if not in /etc/services.
#
#SUBMISSION_PORT

# Use the randfile with TLS.
#
#USE_RANDFILE

#Don't check to see if hostnames are MXed to us.
#
#DNS_CONFIG_OFF

# Start SMTP service on a given port.
#
#SMTP_PORT			25

# Size of backlog for incoming smtp connections.
#
#SMTP_LISTEN_BACKLOG		5

# Give a "554 No SMTP service here" message to all inbound SMTP clients.
#
#SERVICE_SMTP_REFUSE

# Disable incoming SMTP service.
#
#SERVICE_SMTP_OFF

# Set maximum message size.  Default is 0, or unlimited.
#
#MAX_MESSAGE_SIZE		0

# Set maximum number of failed Rcpt to's for an inbound SMTP client.
# Default is 0, or unlimited.
#
#MAX_FAILED_RCPTS		0

# Enable low-pref MX message acceptance for the designated domain.
#
#LOW_PREF_MX			DOMAIN

# Accept all mail regardless of security concerns.  Don't enable this unless
# you know what you're doing, because you become an open relay.
#
#GLOBAL_RELAY

# Tempfail all mail.  Wait SECONDS between SMTP banner messages.  This also
# enables GLOBAL_RELAY, tho no mail is ever accepted.
#
#SMTP_TARPIT			SECONDS

# Enable SASL.
#
#SASL_ON

#
# @domain RED (Receive Expand Deliver) rules
#

#
# Receive and Expand rules
#
# @domain TYPE EXPANSION_TYPE [ FILENAME ]
#
# if domain is the string-insensitive token "LOCALHOST", the directive applies
# to the machine named by the gethostname() system call.
#
# TYPE can be either 'r' or 'R', and E.  The 'R' is for a Sufficient action.
# If a Recipient is found in a Sufficient EXPANSION_TYPE, no further
# actions are tried and the user is accepted.  The 'r' is for a Required
# action.  If a user is not found in a Required EXPANSION_TYPE, no further
# actions are tried and the user is rejected.  E denotes a resource to be
# used during the expansion phase.
#
# Rule precedence occurs in the same order given in the config file.
#
# Defaults for the local host.  If any for a local domain are defined, the
# defaults for that type are not implicitly added.
#
# @localhost RE ALIAS
# @localhost RE PASSWORD

# Call a defined binary for delivery of a domain's mail.
# Special args: $S Sender, $R recipient, $D domain
# Data of message will be on standard input.
#
# @hostname	D	/path/to/binary [ args ]
# @hostname	D	/usr/bin/procmail -f $S -d $R
